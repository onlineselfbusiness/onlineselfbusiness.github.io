<!doctype html>
<html xmlns="https://www.w3.org/1999/xhtml/" lang="en" xml:lang="en" class="js Chrome 88">

<head>
  <title>NSE Stock Watch - RAJA VIJAYA KUMAR</title>
  <link rel="shortcut icon" type="image/x-icon" href="icon.png" />
  <!---->
  <link rel="stylesheet" href="https://cdn.webix.com/materialdesignicons/5.8.95/css/materialdesignicons.min.css"/>
  <link rel="stylesheet" href="https://cdn.webix.com/8.3/webix.css" type="text/css">
  <!-- link rel="stylesheet" href="https://cdn.webix.com/8.3/skins/contrast.css" type="text/css" -->
  <link rel="stylesheet" href="css/newWorldMarket.css" type="text/css">
  <link rel="stylesheet" href="css/nse-styles.css" type="text/css">
  <script src="https://cdn.webix.com/8.3/webix.js" type="text/javascript"></script>
  <script src="https://cdn.amcharts.com/lib/3/amcharts.js"></script>
  <script src="https://cdn.amcharts.com/lib/3/serial.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highstock/6.0.3/highstock.js" integrity="sha512-xStuxZIFeepdcpLwBhqIuU761mDfYUDbV8C8lUiTX96W+kyL+AYmY9l3o/Ku30gEek9l+hUJGQpmT4pcVm6LeA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <!--script src="https://cdnjs.cloudflare.com/ajax/libs/highcharts/9.3.3/highcharts.js" integrity="sha512-noXK66BSiB7VkjM8nmuM6q6TxiUnXnbC+IU1A7/KeNdp0wdOuKSB4vOAKKKi8h2AWjK9faRnEVckf9ajcTS82A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js" integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <!--
  <link rel="stylesheet" href="css/materialdesignicons.min.css" />
  <link rel="stylesheet" href="css/webix.css" type="text/css">
  <script src="js/jquery.js"></script>
  <script src="js/webix.js" type="text/javascript"></script>
  <script src="js/amcharts.js"></script>
  <script src="js/serial.js"></script>
  -->
  <!-- Include the JS for AG Grid -->

  <script src="js/ag-grid-enterprise.min.noStyle.js"></script>
  <script src="js/ag-charts-community.min.js"></script>
  <link rel="stylesheet" href="css/ag-grid.css"/>
  <link rel="stylesheet" href="css/ag-theme-alpine.css"/>
  <!--  
  <script src="https://unpkg.com/ag-grid-enterprise@28.1.3/dist/ag-grid-enterprise.min.noStyle.js"></script>
  <script src="https://unpkg.com/ag-charts-community@6.1.3/dist/ag-charts-community.min.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/ag-grid-enterprise@28.1.3/styles/ag-grid.css"/>
  <link rel="stylesheet" href="https://unpkg.com/ag-grid-enterprise@28.1.3/styles/ag-theme-alpine.css"/>
  -->  
  <style>
    .red {
      color: red;
      font-weight: bold;
    }
    .green {
      color: green;
      font-weight: bold;
    }
    td > a {
      font-weight: bold;
    }
    div[view_id='payoffTableId'] {
      width: 100% !important
    }

    .multiline {
      line-height: 20px !important;
      position: relative;
      top: 24px;
    }
    .rows .myhover {
      background: #ccf3ed !important;
    }
    .rows .webix_cell:nth-child(2n) {
      background-color: #d5f1cd !important;
    }

    .rows .webix_cell.webix_row_select {
      color: #FFF;
      background: #8bb1c7 !important;
    }

    .webix_hs_center {
      width: 100% !important
    }

    div[view_id='optionChainToolbarId'] {
      background-color: aliceblue;
    }

    div[view_id='mainToolbarId'] {
      background-color: lightblue;
    }

    div[view_id='strategyChartToolbarId'], div[view_id='scriptAnalyticsId'] {
      background-color: #b4ddf7;
    }

    div[view_id='strategyWinToolbarId'] {
      background-color: #abe8a7;
    }

    .putBgColor {
      background: #efc6e7;
    }

    .callBgColor {
      background: #a8efd0;
    }

    div[view_id^="$suggest"] {
      width: 250px !important
    }
    
    div[view_id='underlyingValId'], div[view_id='maxPainLabelId'] {
      background-color: inherit;
      text-align: right;
    }
    table{border-spacing: 0px;}
    div[view_id='optionChainTemplateId']>.webix_template {padding: 0px 0px !important}

    div[view_id='optionChainTemplateId'] .webix_icon_btn { font-size: 16px !important}
    .optionChainTable tr:hover td { background-color:#c9f3ce !important}
    
    .rows .hover {background-color:#d5f1cd !important}

    .green1 {background-color: rgb(10, 245, 10) !important;}
    .green2 {background-color: rgb(194, 243, 194) !important;}

    div[view_id="script_calendar"], div[view_id="calendarWiseViewId"] {
      background-color: aliceblue !important;
    }
    div[view_id="sidebarId"] {
      background-color: azure !important;
    }

    div[view_id="sidebarId"] .webix_selected {
      background-color: #b4efad !important;
    }
    div[view_id="watchListDatatableId"] .webix_cell {
      line-height: 30px !important;
    }

    div[view_id="yearWiseDatatableId"] .webix_cell {
      line-height: 30px !important;
    }

    .tgl_vid_aud.active, .tgl_buy_sell.active {
    background: #2fb381;
  }
  .tgl_vid_aud, .tgl_buy_sell {
    width: 32px;
    height: 17px;
    background: #e9610c;
    display: inline-block;
    border-radius: 20px;
    position: relative;
    vertical-align: middle;
    padding: 1px;
    box-sizing: border-box;
    cursor: pointer;
    transition: 0.5s all;
  }
  .tgl_vid_aud.active .tgic, .tgl_buy_sell.active .tgic {
    left: 16px;
    top: 1px;
    -webkit-animation-name: audioright;
    -webkit-animation-duration: 2s;
    animation-name: audioright;
    animation-duration: 2s;
  }
  .tgl_vid_aud .tgic, .tgl_buy_sell .tgic {
    display: inline-block;
    width: 14px;
    height: 14px;
    background: #fff;
    border-radius: 50%;
    position: absolute;
    right: 16px;
    top: 1px;
    box-shadow: 1px 1px 2px #666;
    -webkit-animation-name: videoleft;
    -webkit-animation-duration: 2s;
    animation-name: videoleft;
    animation-duration: 2s;
  }
  div[view_id="script_calendar"] div>span {
    width: 100% !important;
    font-size: medium
  }
  .webix_cal_body .webix_cal_day_inner {
    border-radius: 0% !important;
  }
  .webix_cal_outside>span>div {
    background-color: #e3e8e6f7 !important;
  }

  .peSell {
    align-items: center;
    display: flex;
    justify-content: center;
    position: relative;
    flex-direction: row;
  }

.sellButton {
  background-color: #f44336!important;
  border-color: #f44336!important;
  cursor: pointer;
  color: #fff;
  position: absolute;
  font-size: 13px;
  height: 28px;
  padding: 0 8px;
  left: 10px;
}

div[view_id^="BuySell"] .webix_switch_box.webix_switch_on {
    background-color: #45b001!important;
}
div[view_id^="BuySell"] .webix_switch_box {
    background-color: #ec6500!important;
    color: #fff!important;
}

.delete-icon  span {
  color: #ec6500!important;
}

.active-icon  span {
  color: #45b001!important;
}

.inactive-icon  span {
  color: grey!important;
}

.webix_list_item.webix_selected {
  background: #b4f1c6!important;
}

a[title="JavaScript charts"] {
  display: none!important;
}

.ag-sparkline-tooltip {
  color: 'orange';
  border-radius: 2px;
  font: 14px arial, sans-serif;
  box-shadow: rgb(0 0 0 / 10%) 0px 2px 4px 2px;
  padding: 0 5px;
  /*opacity: 0.9;*/
}

.ag-sparkline-tooltip-title {
  background-color: rgba(236, 213, 3, 0.7);
  display: block;
  font-weight: bold;
  border-bottom: 1px solid rgb(204, 204, 204);
  padding: 8px;
}

.ag-sparkline-tooltip-content {
  background-color: rgba(0, 113, 235, 0.7);
  display: block;
  padding: 8px;
  align-content: center;
}

  </style>
</head>
<body>
  <input type="text" id="messageStatusId" hidden="true"/>

  <input type="text" id="optionChainReqId" hidden="true"/>
  <input type="text" id="optionChainResId" hidden="true"/>

  <input type="text" id="worldMarketId" hidden="true"/>

  <input type="text" id="optionHistoryId" hidden="true"/>
  <input type="text" id="optionHistoryResId" hidden="true"/>

  <input type="text" id="marginReqId" hidden="true"/>
  <input type="text" id="marginResId" hidden="true"/>

  <input type="text" id="optionAllHistoryReqId" hidden="true"/>
  <input type="text" id="optionAllHistoryResId" hidden="true"/>

  <input type="text" id="scriptHistoryId" hidden="true"/>

  <input type="text" id="etDatepickerReqId" hidden="true"/>
  <input type="text" id="etDatepickerResId" hidden="true"/>

  <input type="text" id="economicCalendarReqId" hidden="true"/>
  <input type="text" id="economicCalendarResId" hidden="true"/>

  <input type="text" id="mcResultCalendarReqId" hidden="true"/>
  <input type="text" id="mcResultCalendarResId" hidden="true"/>

  <input type="text" id="nifty50StocksReqId" hidden="true"/>
  <input type="text" id="nifty50StocksResId" hidden="true"/>

  <input type="text" id="maxPainStocksReqId" hidden="true"/>
  <input type="text" id="maxPainStocksResId" hidden="true"/>

  <input type="text" id="ocGraphReqId" hidden="true"/>
  <input type="text" id="ocGraphResId" hidden="true"/>

  <input type="text" id="googleGraphReqId" hidden="true"/>
  <input type="text" id="googleGraphResId" hidden="true"/>

  <input type="text" id="ichartScreenerReqId" hidden="true"/>
  <input type="text" id="ichartScreenerResId" hidden="true"/>
  
  <input type="text" id="ichartSentimentReqId" hidden="true"/>
  <input type="text" id="ichartSentimentResId" hidden="true"/>

  <input type="text" id="cashAndCarryReqId" hidden="true"/>
  <input type="text" id="cashAndCarryResId" hidden="true"/>
  
  <input type="text" id="opstraSDReqId" hidden="true"/>
  <input type="text" id="opstraSDResId" hidden="true"/>
  
  <input type="text" id="businesstodayReqId" hidden="true"/>
  <input type="text" id="businesstodayResId" hidden="true"/>

  <input type="text" id="priceApiReqId" hidden="true"/>
  <input type="text" id="priceApiResId" hidden="true"/>

  <script src="js/indexedDB.js" type="text/javascript"></script>
  <script src="js/scriptNames.js" type="text/javascript"></script>
  <script src="js/option_stratagies.js" type="text/javascript"></script>
  <script src="js/strategy_calculation.js" type="text/javascript"></script>
  
  <script src="js/short-strangle.js" type="text/javascript"></script>
<script>
 window.addEventListener('load', async () => {
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('service-worker.js');
  }
  })
  /*
  // https://whatwebcando.today/articles/handling-service-worker-updates/

  function invokeServiceWorkerUpdateFlow(registration) {
    // TODO implement your own UI notification element
    notification.show("New version of the app is available. Refresh now?");
    notification.addEventListener('click', () => {
        if (registration.waiting) {
            // let waiting Service Worker know it should became active
            registration.waiting.postMessage('SKIP_WAITING')
        }
    })
}*/
/*
window.addEventListener('load', async () => {
  if ('serviceWorker' in navigator) {
    const registration = await navigator.serviceWorker.register('service-worker.js');
    // ensure the case when the updatefound event was missed is also handled
        // by re-invoking the prompt when there's a waiting Service Worker
        if (registration.waiting) {
            //registration.waiting.postMessage('SKIP_WAITING')
        }

        // detect Service Worker update available and wait for it to become installed
        //registration.addEventListener('updatefound', () => {
        //    console.dir('updatefound detected')
        //    if (registration.installing) {
                // wait until the new Service worker is actually installed (ready to take over)
        //        registration.installing.addEventListener('statechange', () => {
        //            console.dir('statechange detected')
        //            if (registration.waiting) {
                        // if there's an existing controller (previous Service Worker), show the prompt
        //               if (navigator.serviceWorker.controller) {
                            //invokeServiceWorkerUpdateFlow(registration)
        //                    registration.waiting.postMessage('SKIP_WAITING')
        //                } else {
                            // otherwise it's the first install, nothing to do
        //                    console.log('Service Worker initialized for the first time')
        //                }
        //            }
        //        })
        //    }
        //})

        let refreshing = false;

        // detect controller change and refresh the page
        //navigator.serviceWorker.addEventListener('controllerchange', () => {
        //    console.dir('controllerchange detected')
        //    if (!refreshing) {
        //        window.location.reload()
        //        refreshing = true
        //    }
        //})
  }
})
*/

$(function() {
  $( document ).on( "click", "div.tgl_vid_aud", function() {
    //alert($(this).data('action'))
    let action = $(this).data('action')
    if($(this).hasClass('active')){
		  $(this).removeClass('active');
      TableConfig[action] = 'inactive'
    }else{
      TableConfig[action] = 'active'
      $(this).addClass('active');
    }
    webix.storage.local.put('TableConfig', TableConfig)
    if((action == 'optimize' || action == 'buildup') && SelectedScript != '') {
      let sData = OptionChainData[SelectedScript]
      $$('optionChainTemplateId').setValues({data: sData.data[SelectedExpiryDate], timestamp: sData.timestamp, 
        selectedStrike:TableFilter['selectedStrike'], expiryDate: TableFilter['expiryDate'], ceITM: TableFilter['ceITM'],  peITM:TableFilter['peITM']})
    }
});
})
</script>
<!--iframe id="opstraSDiFrameId" hidden style="width:0px;height:0px;" src="https://opstra.definedge.com/"></iframe-->
<!--iframe id="opstraSDiFrameId" hidden style="width:0px;height:0px;" src="https://opstra.definedge.com/moment.min.js"></iframe-->
<iframe id="ichartFrameId" hidden style="width:0px;height:0px;" src="https://main.icharts.in/cal.js"></iframe>

<!--iframe id="mcFrameId" hidden style="width:0px;height:0px;" src="https://priceapi.moneycontrol.com/techCharts/config"></iframe--> 

<!--iframe id="businesstodayId" hidden style="width:0px;height:0px;" src="https://www.businesstoday.in/service-worker.js"></iframe-->

</body>
</html>
